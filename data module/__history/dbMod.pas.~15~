unit dbMod;

interface

uses
  System.SysUtils, System.Classes, FireDAC.Stan.Intf, FireDAC.Stan.Option,
  FireDAC.Stan.Error, FireDAC.UI.Intf, FireDAC.Phys.Intf, FireDAC.Stan.Def,
  FireDAC.Stan.Pool, FireDAC.Stan.Async, FireDAC.Phys, FireDAC.Phys.SQLite,
  FireDAC.Phys.SQLiteDef, FireDAC.Stan.ExprFuncs,
  FireDAC.Phys.SQLiteWrapper.Stat, FireDAC.VCLUI.Wait, Data.DB,
  FireDAC.Comp.Client, FireDAC.Stan.Param, FireDAC.DatS, FireDAC.DApt.Intf,
  FireDAC.DApt, FireDAC.Comp.DataSet;

type

  TUser = class(Tobject)
    id: Integer;
    username: String;
    isAdmin: boolean;
    isActive: boolean;
  end;

  TdbModFrm = class(TDataModule)
    KPcon: TFDConnection;
    qTemp: TFDQuery;
    qUsers: TFDQuery;
    qKP: TFDQuery;
    dsUsers: TDataSource;
    dsKP: TDataSource;
    qKPid: TIntegerField;
    qKPcase_num: TWideStringField;
    qKPdate_case_fil: TDateTimeField;
    qKPfiling_fee: TWideStringField;
    qKPnature_of_case: TStringField;
    qKPoverall_remarks: TStringField;
    qKPdate_offi_rec: TDateTimeField;
    procedure DataModuleCreate(Sender: TObject);
    procedure DataModuleDestroy(Sender: TObject);
  private
    { Private declarations }
    FUser: TUser; // logged in user;
  public
    { Public declarations }
    property User: TUser read FUser write FUser;
  end;

var
  dbModFrm: TdbModFrm;

implementation

{%CLASSGROUP 'Vcl.Controls.TControl'}

{$R *.dfm}

procedure TdbModFrm.DataModuleCreate(Sender: TObject);
begin
  FUser := TUser.Create;
end;

procedure TdbModFrm.DataModuleDestroy(Sender: TObject);
begin
  FUser.Free;
end;

end.
